要成功地模拟登录，首先我们得找到浏览器递交给服务器的表单数据，这个我们可以单击右键，然后点击‘查看元素’中（本人使用的是FireFox浏览器），找到其中的‘网络’，点击一下，就可以开始记录下我们给服务器递交的表单数据，接下来我们需要进行一次正常的登录，登录之后，我们会发现浏览器抓取到了很多的包，但我们需要的仅仅是第一个post请求的包，这其中包含了我们给服务器发送的表单数据，这个正是网站确认你身份的凭证。

![image](https://github.com/kingdowliu/SpiderLoginXaut/blob/master/IMG_20180618_001903.JPG)

我们可以看到第一个就是我们的post请求，点击第一个，右边会出现我们的信息，然后点击'参数',这时我们可以看到我们post的表单数据中的具体内容了，可以看到，这里面有10个参数，其中包含了我们输入的账号，密码，验证码等相关信息，多次登录，会发现只有'txtSecretCode'这个参数是变化的，但仔细看看，会知道这正是我们输入的验证码，所以接下来我们只要获取验证码，然后构造一个表单post_data，就可以成功登录了。

![image](https://github.com/kingdowliu/SpiderLoginXaut/blob/master/IMG_20180618_001821.JPG)

返回学分制主页，在验证码处单击右键，点击'检查元素'，我们可以看到亮高处有一个叫做img的标签，将鼠标放在src的属性上，属性上方显示了一张验证码图片，这时我们只需解析网页，获取src的属性内容就可以将验证码写入文件，在这里我们使用pyquery对其进行解析，具体解析方法，代码中已有，这里不再赘述。

![image](https://github.com/kingdowliu/SpiderLoginXaut/blob/master/IMG_20180617_233854.JPG)

构造完post的表单数据，输入验证码后，我们就登录成功了，但我们不能只登录完就跑啊！我们得做点有建设性的事情，最近考试挺多的，要不爬下考试信息吧，如果忘了查，等到考试时，可能就查不了了，在这里，我就想感叹一下，每次到考试，选课时，服务器就崩溃，不提前下载信息的话，后果可想而知，说干就干，同样，我们点击'信息查询'中的'考试查询'，在查看器中我们可以看到浏览器抓取的包如下:

![image](https://github.com/kingdowliu/SpiderLoginXaut/blob/master/IMG_20180618_001419.JPG)

点击'get'请求，右侧'请求头'中我们可以看到'请求网址',这正是我们向服务器发送请求的网址，点击右键,'全选','复制'，将其添加到我们的User-Agent中，发送请求，就可以得到服务器返回的响应了。

![image](https://github.com/kingdowliu/SpiderLoginXaut/blob/master/IMG_20180618_001226.JPG)

在考试信息那块，单击右键，进入检查元素，我们可以看到源码中有tr的标签，展开一看，里面还有一些td标签，很显然，这是一个表格式数据，接下来我们只需要对它进行解析，获取并写入文件即可，解析过程见代码，至此，我们的模拟登录过程就完成了。
